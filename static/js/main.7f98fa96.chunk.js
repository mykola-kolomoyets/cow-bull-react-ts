(this["webpackJsonpcow-bull-react-ts"]=this["webpackJsonpcow-bull-react-ts"]||[]).push([[0],[,,,function(e,t,n){e.exports={history:"History_history__2nlMm",title:"History_title__304_g",historyTable:"History_historyTable__1hkZt"}},,,function(e,t,n){e.exports={container:"Input_container__1fHr_",form:"Input_form__2WIlS",input:"Input_input__3rPb3",submit:"Input_submit__-nYiy"}},,function(e,t,n){e.exports={moves:"Moves_moves__3IAm0",movesTitle:"Moves_movesTitle__2sWlb",movesText:"Moves_movesText__26e0L"}},,,function(e,t,n){e.exports={wrapper:"App_wrapper__RCHjb",container:"App_container__eSJ6i"}},,,function(e,t,n){e.exports={restart:"RestartGame_restart__2MbLH"}},function(e,t,n){e.exports={gameData:"CowBulls_gameData__2xdGZ"}},function(e,t,n){e.exports={title:"Header_title__3SEjb"}},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,c=n(1),s=n(7),a=n(5),i=n.n(a),o=n(12),u=n(17),l=n(2),b=function(){return Object(l.c)()},m=l.d,j=n(4),d={moves:0,currentNumber:0,enteredNumber:0,gameData:{cows:0,bulls:0},incorrectNumbers:[],hints:[],history:[]},h=Object(j.b)({name:"game",initialState:d,reducers:{incrementMoves:function(e){e.moves+=1},setEnteredNumber:function(e,t){e.enteredNumber=+t.payload},setGameData:function(e,t){e.gameData=t.payload},setIncorrectNumbers:function(e,t){e.incorrectNumbers=t.payload},setCurrentNumber:function(e,t){e.currentNumber=t.payload},addToHistory:function(e,t){e.history.push(t.payload)},clearHistory:function(e){e.history=[]},setHints:function(e,t){e.hints=t.payload},clearHints:function(e){e.hints=[]},annulateState:function(e){e.moves=0,e.currentNumber=0,e.enteredNumber=0,e.gameData={cows:0,bulls:0},e.hints=[],e.history=[],e.incorrectNumbers=[]}}}),x=h.actions,f=x.incrementMoves,p=x.addToHistory,O=(x.clearHints,x.clearHistory,x.setGameData),v=(x.setHints,x.setIncorrectNumbers),N=x.setEnteredNumber,_=x.annulateState,g=x.setCurrentNumber,w=h.reducer,y=i.a.mark(H);function H(e){var t,n,r,c;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=0;case 1:if(!(t<=4)){s.next=12;break}return 0===(n=Math.floor(Math.random()*e.length))&&0===t&&n++,r=e[n],e.splice(n,1),c=Math.pow(10,t),s.next=9,r*c;case 9:t++,s.next=1;break;case 12:case"end":return s.stop()}}),y)}!function(e){e.warning="yellow",e.success="green",e.danger="red"}(r||(r={}));var S,T=function(){for(var e=[0,1,2,3,4,5,6,7,8,9],t={number:0,incorrectNumbers:[]},n=H(e),r=0;r<4;r++)t.number+=n.next().value;return e.sort((function(){return.5-Math.random()})),t.incorrectNumbers=[e[0],e[3]],t},k=function(){var e=b();e(_());var t=T(),n=t.number,r=t.incorrectNumbers;e(g(n)),e(v(r))},C=function(e){return[4===e.toString().length,(t=e,!/([0-9]).*?\1/.test(t.toString()))];var t},I=function(e,t){for(var n={cows:0,bulls:0},r=e.toString().split(""),c=t.toString().split(""),s=0;s<4;s++)r[s]===c[s]?n.bulls+=1:c.includes(r[s])&&(n.cows+=1);return n};!function(e){e.warning="warning",e.error="error",e.success="success"}(S||(S={}));var M={text:"",isShown:!1,type:S.warning},D=Object(j.b)({name:"warning",initialState:M,reducers:{show:function(e,t){var n=t.payload,r=n.text,c=n.type;e.isShown=!0,e.text=r,e.type=c},hide:function(e){e.isShown=!1,e.text=""}}}),E=D.actions,G=E.show,B=E.hide,L=D.reducer,W=n(14),A=n.n(W),R=n(0),J=function(){var e=b();return Object(R.jsx)("button",{className:A.a.restart,onClick:function(){var t=T(),n=t.number,c=t.incorrectNumbers;Object(l.b)((function(){e(_()),e(g(n)),e(v(c)),e(G({text:"New game started",type:r.success}))}))},children:"Restart game"})},Y=n(6),P=n.n(Y),Z=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1],a=m((function(e){return e.game})),j=a.currentNumber,d=a.enteredNumber,h=b(),x=function(){var e=Object(o.a)(i.a.mark((function e(t){var c,a,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",h(G({text:"Enter the number!",type:r.danger})));case 2:if(t.preventDefault(),Object(l.b)((function(){h(B()),h(N(t.currentTarget.nodeValue))})),s(""),!(c=C(d))[0]||!c[1]){e.next=16;break}if(h(f()),d!==j){e.next=11;break}return Promise.resolve().then((function(){return h(G({text:"WOU WIN!!!",type:r.success}))})).then((function(){setTimeout((function(){return k()}),2e3)})),e.abrupt("return");case 11:return a=I(j,d),o={number:d,data:a},e.next=15,Object(l.b)((function(){h(O(a)),h(p(o))}));case 15:return e.abrupt("return");case 16:u="",c[0]||(u+="non 4-digit number "),c[0]||c[1]||(u+="and "),c[1]||(u+="number has repeated digits"),h(G({text:u,type:r.warning}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("section",{className:P.a.container,children:Object(R.jsxs)("form",{className:P.a.form,action:"#",onSubmit:function(e){return x(e)},children:[Object(R.jsx)("input",{className:P.a.input,type:"text",onChange:function(e){return function(e){s(e.target.value),h(N(e.target.value))}(e)},value:n,placeholder:"####",maxLength:4}),Object(R.jsx)("button",{className:P.a.submit,type:"submit",children:"Check number"}),Object(R.jsx)(J,{})]})})},z=n(8),U=n.n(z),V=function(e){var t=e.moves;return Object(R.jsx)("div",{className:U.a.moves,children:Object(R.jsxs)("h3",{className:U.a.movesTitle,children:["Your moves: ",Object(R.jsx)("span",{className:U.a.movesText,children:t})]})})},q=n(15),F=n.n(q),K=function(e){var t=e.cows,n=e.bulls;return Object(R.jsxs)("section",{className:F.a.gameData,children:[Object(R.jsxs)("p",{children:["\ud83d\udc04: ",t]}),Object(R.jsxs)("p",{children:["\ud83d\udc02: ",n]})]})},Q=n(3),X=n.n(Q),$=function(e){var t=e.number,n=e.data;return Object(R.jsxs)("tr",{className:X.a.item,children:[Object(R.jsx)("td",{className:X.a.number,children:t}),Object(R.jsx)("td",{children:Object(R.jsxs)("p",{children:[n.cows," \xa0"]})}),Object(R.jsx)("td",{children:Object(R.jsx)("p",{children:n.bulls})})]},"".concat(t,"-").concat(n.cows,"-").concat(n.bulls))},ee=function(){var e=m((function(e){return e.game})).history.map((function(e){var t=e.number,n=e.data;return Object(R.jsx)($,{number:t,data:n})})).reverse();return(null===e||void 0===e?void 0:e.length)?Object(R.jsxs)("section",{className:X.a.history,children:[Object(R.jsx)("h2",{className:X.a.title,children:"History"}),Object(R.jsxs)("table",{className:X.a.historyTable,children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"Number"}),Object(R.jsx)("th",{children:"Cows \ud83d\udc04 "}),Object(R.jsx)("th",{children:"Bulls \ud83d\udc02"})]})}),Object(R.jsx)("tbody",{children:e})]})]}):Object(R.jsx)("span",{children:"You have not entered the number"})},te=n(16),ne=n.n(te),re=function(){return Object(R.jsx)("h1",{className:ne.a.title,children:"Cow-Bull Game"})},ce=(n(27),function(){var e=m((function(e){return e.warning})),t=e.text,n=e.type,r=e.isShown,c=b();return r?Object(R.jsxs)("div",{className:"alert alert-".concat(n),role:"alert",children:[Object(R.jsx)("p",{children:Object(R.jsx)("b",{children:"WARNING!!!"})}),"\xa0",t,Object(R.jsx)("button",{className:"close",onClick:function(){return c(B())},"aria-label":"Close",children:Object(R.jsx)("span",{"aria-hidden":"true",children:Object(R.jsxs)("svg",{role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(R.jsx)("title",{children:"Close"}),Object(R.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})})]}):null}),se=n(11),ae=n.n(se),ie=(n(28),function(){var e=m((function(e){return e})).game.incorrectNumbers;return Object(R.jsxs)("div",{className:"hint",children:[Object(R.jsx)("p",{className:"hint__title",children:"HINT:"}),Object(R.jsx)("p",{className:"hint__subtitle",children:"These digits are NOT in the number"}),Object(R.jsx)("span",{className:"hint__content",children:e.join("  ")})]})}),oe=function(){var e=m((function(e){return e.game})).moves,t=m((function(e){return e.game.gameData})),n=t.cows,r=t.bulls,s=b();return Object(c.useEffect)((function(){var e=T(),t=e.number,n=e.incorrectNumbers;Object(l.b)((function(){s(g(t)),s(v(n))}))}),[s]),Object(R.jsx)("div",{className:ae.a.wrapper,children:Object(R.jsxs)("div",{className:ae.a.container,children:[Object(R.jsx)(re,{}),Object(R.jsx)(ce,{}),Object(R.jsx)(V,{moves:e}),Object(R.jsx)(Z,{}),e>0&&!(e%5)&&Object(R.jsx)(ie,{}),Object(R.jsx)(K,{cows:n,bulls:r}),Object(R.jsx)(ee,{})]})})},ue=Object(j.a)({reducer:{game:w,warning:L},middleware:[]});n(29);s.render(Object(R.jsx)(l.a,{store:ue,children:Object(R.jsx)(oe,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.7f98fa96.chunk.js.map