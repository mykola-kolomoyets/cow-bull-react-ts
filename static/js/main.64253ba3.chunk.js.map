{"version":3,"sources":["components/History/History.module.scss","components/Input/Input.module.scss","components/Moves/Moves.module.scss","App.module.scss","components/RestartGame/RestartGame.module.scss","components/CowBulls/CowBulls.module.scss","components/Header/Header.module.scss","utils/index.ts","context/warning/warningContext.tsx","store/hooks.ts","store/game/gameState.ts","store/game/gameSlice.ts","components/RestartGame/index.ts","components/RestartGame/RestartGame.tsx","components/Input/index.ts","components/Input/Input.tsx","components/Moves/index.ts","components/Moves/Moves.tsx","components/CowBulls/index.ts","components/CowBulls/CowBulls.tsx","components/History/HistoryItem.tsx","components/History/index.ts","components/History/History.tsx","components/Header/index.ts","components/Header/Header.tsx","components/Warning/WarningsContainer.tsx","components/Hint/Hint.tsx","App.tsx","store/warning/reducer.ts","store/warning/index.ts","store/warning/state.tsx","store/store.ts","index.tsx"],"names":["module","exports","warningTypes","WarningContext","createContext","useAppDispatch","useDispatch","useAppSelector","useSelector","gameInitialState","moves","currentNumber","enteredNumber","gameData","cows","bulls","incorrectNumbers","hints","history","gameSlice","createSlice","name","initialState","reducers","incrementMoves","state","setEnteredNumber","action","payload","setGameData","setIncorrectNumbers","setCurrentNumber","addToHistory","push","clearHistory","setHints","clearHints","annulateState","actions","numberGenerator","SHOW_ALERT","HIDE_ALERT","numbers","i","index","Math","floor","random","length","result","splice","multiplier","generateNumber","number","generator","next","value","sort","StartNewGame","dispatch","compareNumbers","num1","toString","test","getCowsBulls","num2","num1Arr","split","num2Arr","includes","RestartGame","warning","useContext","className","styles","restart","onClick","show","success","Input","useState","setValue","game","handleSubmit","event","a","preventDefault","hide","currentTarget","nodeValue","criterions","console","log","Promise","resolve","then","setTimeout","currHistoryItem","data","warnings","container","form","onSubmit","input","type","onChange","target","handleChange","placeholder","maxLength","submit","Moves","props","movesTitle","movesText","CowBulls","HistoryItem","item","History","historyElements","map","reverse","title","historyList","Header","WarningsContainer","text","visible","role","xmlns","viewBox","d","Hint","join","App","useEffect","wrapper","handlers","warningReducer","DEFAULT","WarningState","useReducer","Provider","children","store","configureStore","reducer","gameReducer","middleware","ReactDOM","document","getElementById"],"mappings":"gHACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,YAAc,6BAA6B,KAAO,sBAAsB,OAAS,wBAAwB,KAAO,wB,mBCApMD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,KAAO,oBAAoB,MAAQ,qBAAqB,OAAS,wB,mBCAxHD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,WAAa,0BAA0B,UAAY,2B,kBCAlGD,EAAOC,QAAU,CAAC,QAAU,qBAAqB,UAAY,yB,kBCA7DD,EAAOC,QAAU,CAAC,QAAU,+B,gBCA5BD,EAAOC,QAAU,CAAC,SAAW,6B,gBCA7BD,EAAOC,QAAU,CAAC,MAAQ,wB,0GCWrBC,E,6CCPUC,EAFQC,wBAAc,I,OCCxBC,EAAiB,kBAAMC,eACvBC,EAAkDC,I,QCUhDC,EAb0B,CACrCC,MAAO,EACPC,cAAe,EACfC,cAAe,EACfC,SAAU,CACNC,KAAM,EACNC,MAAO,GAEXC,iBAAkB,GAClBC,MAAO,GACPC,QAAS,ICTPC,EAAYC,YAAY,CAC7BC,KAAM,OACNC,aAAcb,EACdc,SAAU,CACTC,eAAgB,SAAAC,GACfA,EAAMf,OAAS,GAEhBgB,iBAAkB,SAACD,EAAOE,GACzBF,EAAMb,eAAiBe,EAAOC,SAE/BC,YAAa,SAACJ,EAAOE,GACpBF,EAAMZ,SAAWc,EAAOC,SAEzBE,oBAAqB,SAACL,EAAOE,GAC5BF,EAAMT,iBAAmBW,EAAOC,SAEjCG,iBAAkB,SAACN,EAAOE,GACzBF,EAAMd,cAAgBgB,EAAOC,SAE9BI,aAAc,SAACP,EAAOE,GACrBF,EAAMP,QAAQe,KAAKN,EAAOC,UAE3BM,aAAc,SAAAT,GACbA,EAAMP,QAAU,IAEjBiB,SAAU,SAACV,EAAOE,GACjBF,EAAMR,MAAQU,EAAOC,SAEtBQ,WAAY,SAAAX,GACXA,EAAMR,MAAQ,IAEfoB,cAAe,SAAAZ,GACdA,EAAMf,MAAQ,EACde,EAAMd,cAAgB,EACtBc,EAAMb,cAAgB,EACtBa,EAAMZ,SAAW,CAChBC,KAAM,EACNC,MAAO,GAERU,EAAMR,MAAQ,GACdQ,EAAMP,QAAU,GAChBO,EAAMT,iBAAmB,OAKrB,EAWHG,EAAUmB,QAVbd,EADM,EACNA,eACAQ,EAFM,EAENA,aAGAH,GALM,EAGNO,WAHM,EAINF,aAJM,EAKNL,aAEAC,GAPM,EAMNK,SANM,EAONL,qBACAJ,EARM,EAQNA,iBACAW,EATM,EASNA,cACAN,EAVM,EAUNA,iBAGcZ,IAAf,Q,WJ5CUoB,GATJC,EAAa,aACbC,EAAa,aAQnB,SAAUF,EAAgBG,GAA1B,6EACaC,EAAI,EADjB,YACoBA,GAAK,GADzB,iBAOQ,OAJW,KADPC,EAAQC,KAAKC,MAAMD,KAAKE,SAAWL,EAAQM,UACzB,IAANL,GAAYC,IACxBK,EAASP,EAAQE,GACrBF,EAAQQ,OAAON,EAAO,GAClBO,EANZ,SAMyB,GAAOR,GANhC,SAOcM,EAASE,EAPvB,OAC4BR,IAD5B,wD,SANKzC,K,iBAAAA,E,gBAAAA,E,cAAAA,M,KAiBL,I,EAAMkD,EAAiB,WAQnB,IAPA,IAAMV,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtCO,EAAmC,CACrCI,OAAQ,EACRrC,iBAAkB,IAGhBsC,EAAYf,EAAgBG,GACzBC,EAAI,EAAGA,EAAI,EAAGA,IACnBM,EAAOI,QAAUC,EAAUC,OAAOC,MAOtC,OAJAd,EAAQe,MAAK,iBAAM,GAAMZ,KAAKE,YAE9BE,EAAOjC,iBAAmB,CAAC0B,EAAQ,GAAIA,EAAQ,IAExCO,GAKLS,EAAe,WACjB,IAAMC,EAAWtD,IACjBsD,EAAStB,KACT,MAAmCe,IAA5BC,EAAP,EAAOA,OAAQrC,EAAf,EAAeA,iBACf2C,EAAS5B,EAAiBsB,IAC1BM,EAAS7B,EAAoBd,KAG3B4C,EAAiB,SAACC,GACpB,MAAO,CACwB,IAA3BA,EAAKC,WAAWd,QAZGK,EAaAQ,GAb4B,eAAeE,KAAKV,EAAOS,cAAxD,IAACT,GAiBrBW,EAAe,SAACH,EAAcI,GAShC,IARA,IAAIhB,EAAuB,CACvBnC,KAAM,EACNC,MAAO,GAGLmD,EAAUL,EAAKC,WAAWK,MAAM,IAChCC,EAAUH,EAAKH,WAAWK,MAAM,IAE7BxB,EAAI,EAAGA,EAAI,EAAGA,IACfuB,EAAQvB,KAAOyB,EAAQzB,GAAIM,EAAOlC,OAAO,EACpCqD,EAAQC,SAASH,EAAQvB,MAAKM,EAAOnC,MAAM,GAGxD,OAAOmC,G,wBK7EIqB,ECYK,WAClB,IAAMC,EAAUC,qBAAWrE,GACrBwD,EAAWtD,IAQjB,OACE,wBACEoE,UAAWC,IAAOC,QAClBC,QAVgB,WAClBjB,EAAStB,KACT,MAAqCe,IAA7BC,EAAR,EAAQA,OAAQrC,EAAhB,EAAgBA,iBAChB2C,EAAS5B,EAAiBsB,IAC1BM,EAAS7B,EAAoBd,IAC7BuD,EAAQM,KAAK,mBAAoB3E,EAAa4E,UAG9C,2B,gBCvBWC,ECsBO,WACpB,MAA0BC,mBAAS,IAAnC,mBAAOxB,EAAP,KAAcyB,EAAd,KACMV,EAAUC,qBAAWrE,GAC3B,EAAyCI,GACvC,SAACkB,GAAD,OAAWA,EAAMyD,QADXvE,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,cAGjB+C,EAAWtD,IAOX8E,EAAY,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,yDACL,KAAV7B,EADe,oDAEnB4B,EAAME,iBACNf,EAAQgB,OACR5B,EAASjC,EAAiB0D,EAAMI,cAAcC,YAC9CR,EAAS,IAEHS,EAAa9B,EAAehD,GAClC+E,QAAQC,IAAIF,IAERA,EAAW,KAAMA,EAAW,GAVb,oBAWjB/B,EAASnC,KACLZ,IAAkBD,EAZL,iBAafkF,QAAQC,UACLC,MAAK,kBAAMxB,EAAQM,KAAK,aAAc3E,EAAa4E,YACnDiB,MAAK,WACJC,YAAW,kBAAMtC,MAAgB,QAhBtB,+BAmBT7C,EAAWmD,EAAarD,EAAeC,GAEvCqF,EAAmC,CACvC5C,OAAQzC,EACRsF,KAAMrF,GAvBO,UAyBT8C,EAAS9B,EAAYhB,IAzBZ,yBA0BT8C,EAAS3B,EAAaiE,IA1Bb,gCA6BbE,EAAW,GACVT,EAAW,KAAIS,GAAY,uBAC3BT,EAAW,IAAOA,EAAW,KAAIS,GAAY,QAC7CT,EAAW,KAAIS,GAAY,8BAChC5B,EAAQM,KAAKsB,EAAUjG,EAAaqE,SAjCnB,4CAAH,sDAqClB,OACE,yBAASE,UAAWC,IAAO0B,UAA3B,SACE,uBACE3B,UAAWC,IAAO2B,KAClB1E,OAAO,IACP2E,SAAU,SAAClB,GAAD,OAAWD,EAAaC,IAHpC,UAKE,uBACEX,UAAWC,IAAO6B,MAClBC,KAAK,OACLC,SAAU,SAACrB,GAAD,OApDG,SAACA,GACpBH,EAASG,EAAMsB,OAAOlD,OACtBG,EAASjC,EAAiB0D,EAAMsB,OAAOlD,QAkDZmD,CAAavB,IAClC5B,MAAOA,EACPoD,YAAa,OACbC,UAAW,IAEb,wBACEpC,UAAWC,IAAOoC,OAClBN,KAAK,SAFP,0BAMA,cAAC,EAAD,U,iBC7FOO,ECGgB,SAACC,GAC/B,IAAOtG,EAASsG,EAATtG,MACP,OACC,qBAAK+D,UAAWC,IAAOhE,MAAvB,SACC,qBAAI+D,UAAWC,IAAOuC,WAAtB,yBAA8C,sBAAMxC,UAAWC,IAAOwC,UAAxB,SAAoCxG,U,iBCPtEyG,ECEsB,SAACH,GACrC,IAAOlG,EAAekG,EAAflG,KAAMC,EAASiG,EAATjG,MAEb,OACC,0BAAS0D,UAAWC,IAAO7D,SAA3B,UACC,+CAAQC,KACR,+CAAQC,S,gBCSIqG,EAd0B,SAACJ,GACzC,IAAO3D,EAAgB2D,EAAhB3D,OAAQ6C,EAAQc,EAARd,KACf,OACC,qBACEzB,UAAWC,IAAO2C,KADpB,UAEE,wBAAQ5C,UAAWC,IAAOrB,OAA1B,SAAmCA,IACnC,sBAAKoB,UAAWC,IAAOwB,KAAvB,UACC,+CAAQA,EAAKpF,KAAb,WACA,+CAAQoF,EAAKnF,cALhB,UAAYsC,EAAZ,YAAsB6C,EAAKpF,KAA3B,YAAmCoF,EAAKnF,SCN3BuG,ECIC,WACf,IAIMC,EAFFhH,GAAe,SAAAkB,GAAK,OAAIA,EAAMyD,QADjChE,QAG+BsG,KAAI,YAAsC,IAApCnE,EAAmC,EAAnCA,OAAQ6C,EAA2B,EAA3BA,KAC7C,OAAO,cAAC,EAAD,CAAa7C,OAAQA,EAAQ6C,KAAMA,OACxCuB,UAGH,OACC,0BAAShD,UAAWC,IAAOxD,QAA3B,UACC,oBAAIuD,UAAWC,IAAOgD,MAAtB,qBACA,oBAAIjD,UAAWC,IAAOiD,YAAtB,SACEJ,EAAgBvE,OAASuE,EAC1B,yE,iBCnBWK,GCCA,WACd,OACC,oBAAInD,UAAWC,IAAOgD,MAAtB,4BC4BaG,I,MA5BmB,WAEjC,MAAwBrD,qBAAWrE,GAA5BoE,EAAP,EAAOA,QAASgB,EAAhB,EAAgBA,KACTiB,EAAcjC,EAAdiC,KAAMsB,EAAQvD,EAARuD,KACb,OAAKvD,EAAQwD,QAKZ,sBACAtD,UAAS,sBAAiB+B,GAC1BwB,KAAK,QAFL,UAGC,4BAAG,6CAHJ,OAIEF,EACD,wBACAlD,QAASW,EACTd,UAAU,QACV,aAAW,QAHX,SAIC,sBACC,cAAY,OADb,SAGC,sBAAKuD,KAAK,SAASC,MAAM,6BAA6BC,QAAQ,YAA9D,UAA0E,0CAAoB,sBAAMC,EAAE,mPAhBlG,O,oBCLHC,I,MAAO,WACZ,IACQpH,EACJT,GAAe,SAAAkB,GAAK,OAAIA,KAD3ByD,KAAOlE,iBAER,OACC,mCACC,sBAAKyD,UAAU,OAAf,UACC,mBAAGA,UAAU,cAAb,mBACA,mBAAGA,UAAU,iBAAb,gDACA,sBAAMA,UAAU,gBAAhB,SAAiCzD,EAAiBqH,KAAK,eCwC5CC,GAtCH,WACV,MAQI/H,GAAe,SAAAkB,GAAK,OAAIA,KAP1ByD,KACExE,EAFJ,EAEIA,MAFJ,IAGIG,SACEC,EAJN,EAIMA,KACAC,EALN,EAKMA,MAIA4C,EAAWtD,IAajB,OAXAkI,qBAAU,WACR,MAGInF,IAFFC,EADF,EACEA,OACArC,EAFF,EAEEA,iBAGF2C,EAAS5B,EAAiBsB,IAC1BM,EAAS7B,EAAoBd,MAE5B,IAGD,qBAAKyD,UAAWC,KAAO8D,QAAvB,SACE,sBAAK/D,UAAWC,KAAO0B,UAAvB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,EAAD,CAAO1F,MAAOA,IACd,cAAC,EAAD,IACEA,EAAQ,KAAOA,EAAQ,IAAO,cAAC,GAAD,IAChC,cAAC,EAAD,CAAUI,KAAMA,EAAMC,MAAOA,IAC7B,cAAC,EAAD,U,gBC1CF0H,IAAoB,oBACrBjG,GAAa,SAACf,EAAD,OAAeG,EAAf,EAAeA,QAAf,oBAAC,gBAAuCA,GAAxC,IAAiDmG,SAAS,OADlD,eAErBtF,GAAa,SAAChB,GAAD,oBAAC,gBAAqBA,GAAtB,IAA6BsG,SAAS,OAF9B,0BAGb,SAACtG,GAAD,OAAgBA,KAHH,GAWXiH,GALQ,SAACjH,EAAYE,GAEhC,OADe8G,GAAS9G,EAAO6E,OAASiC,GAASE,SACnClH,EAAOE,ICZViH,GCI8B,SAAC5B,GAC7C,MAA0B6B,qBAAWH,GAAgB,CAACX,SAAS,IAA/D,mBAAOtG,EAAP,KAAckC,EAAd,KAWA,OAEC,aADA,CACC,EAAemF,SAAhB,CACCtF,MAAO,CACNqB,KAbU,SAACiD,GAAkE,IAApDtB,EAAmD,uDAA5C,UAClC7C,EAAS,CACR6C,KAAMhE,EACNZ,QAAS,CAACkG,OAAMtB,WAWfjB,KAPU,kBAAY5B,EAAS,CAAC6C,KAAM/D,KAQtC8B,QAAS9C,GAJX,SAOEuF,EAAM+B,YCxBGC,GAAQC,YAAe,CAClCC,QAAS,CACPhE,KAAMiE,GAERC,WAAY,K,MCCdC,SACE,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,GAAD,UACA,cAAC,GAAD,QAIFM,SAASC,eAAe,W","file":"static/js/main.64253ba3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"History_history__DRrye\",\"title\":\"History_title__vY5Ga\",\"historyList\":\"History_historyList__3kN5g\",\"item\":\"History_item__3pxUU\",\"number\":\"History_number__2ypzF\",\"data\":\"History_data__1BNWS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Input_container__2qJpQ\",\"form\":\"Input_form__4Ki_f\",\"input\":\"Input_input__2LtWo\",\"submit\":\"Input_submit__1-wA7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moves\":\"Moves_moves__M8U9J\",\"movesTitle\":\"Moves_movesTitle__1CgE6\",\"movesText\":\"Moves_movesText__3aw6a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2kWx0\",\"container\":\"App_container__3BOCz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restart\":\"RestartGame_restart__2wT-p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameData\":\"CowBulls_gameData__3CGSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Header_title__ciRrk\"};","import { gameDataType } from 'types';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { generateNumberReturnType } from \"types\";\r\nimport { \r\n    annulateState, \r\n    setCurrentNumber,\r\n    setIncorrectNumbers\r\n} from 'store/game/gameSlice';\r\n\r\nconst SHOW_ALERT = \"SHOW_ALERT\";\r\nconst HIDE_ALERT = \"HIDE_ALERT\";\r\n\r\nenum warningTypes {\r\n    warning = \"yellow\",\r\n    success = \"green\",\r\n    danger = \"red\"\r\n}\r\n\r\nfunction* numberGenerator(numbers: number[]): IterableIterator<number> {\r\n    for (let i = 0; i <= 4; i++) {\r\n        let index = Math.floor(Math.random() * numbers.length);\r\n        (index === 0 && i === 0) && index++;\r\n        let result = numbers[index];\r\n        numbers.splice(index, 1);\r\n        let multiplier = 10 ** (i)\r\n        yield result * multiplier;\r\n    }\r\n}\r\n\r\nconst generateNumber = (): generateNumberReturnType => {\r\n    const numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n    const result: generateNumberReturnType = {\r\n        number: 0,\r\n        incorrectNumbers: []\r\n    };\r\n\r\n    const generator = numberGenerator(numbers);\r\n    for (let i = 0; i < 4; i++) {\r\n        result.number += generator.next().value;\r\n    }\r\n\r\n    numbers.sort(() => 0.5 - Math.random());\r\n\r\n    result.incorrectNumbers = [numbers[0], numbers[3]];\r\n\r\n    return result;\r\n}\r\n\r\nconst hasRepeatedDigits = (number: number): boolean => /([0-9]).*?\\1/.test(number.toString());\r\n\r\nconst StartNewGame = () => {\r\n    const dispatch = useAppDispatch();\r\n    dispatch(annulateState());\r\n    const {number, incorrectNumbers} = generateNumber();\r\n    dispatch(setCurrentNumber(number));\r\n    dispatch(setIncorrectNumbers(incorrectNumbers));\r\n}\r\n\r\nconst compareNumbers = (num1: number): boolean[] => {\r\n    return [\r\n        num1.toString().length === 4,\r\n        !hasRepeatedDigits(num1)\r\n    ];\r\n}\r\n\r\nconst getCowsBulls = (num1: number, num2: number): gameDataType => {\r\n    let result: gameDataType = {\r\n        cows: 0,\r\n        bulls: 0\r\n    }\r\n\r\n    const num1Arr = num1.toString().split('');\r\n    const num2Arr = num2.toString().split('');\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n        if (num1Arr[i] === num2Arr[i]) result.bulls+=1;\r\n        else if (num2Arr.includes(num1Arr[i])) result.cows+=1;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\n\r\nexport {\r\n    SHOW_ALERT,\r\n    HIDE_ALERT,\r\n    generateNumber,\r\n    compareNumbers,\r\n    StartNewGame,\r\n    getCowsBulls,\r\n    warningTypes\r\n}","import { createContext } from 'react';\r\nimport { IWarningContext } from 'types';\r\n\r\nconst WarningContext = createContext({} as IWarningContext);\r\n\r\nexport default WarningContext;","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport type { RootState, AppDispatch } from './store';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { gameStateType } from 'types';\r\n\r\nconst gameInitialState: gameStateType  = {\r\n    moves: 0,\r\n    currentNumber: 0,\r\n    enteredNumber: 0,\r\n    gameData: {\r\n        cows: 0,\r\n        bulls: 0\r\n    },\r\n    incorrectNumbers: [],\r\n    hints: [],\r\n    history: []\r\n}\r\n\r\nexport default gameInitialState;","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport gameInitialState from \"./gameState\";\r\n\r\nconst gameSlice = createSlice({\r\n\tname: \"game\",\r\n\tinitialState: gameInitialState,\r\n\treducers: {\r\n\t\tincrementMoves: state => {\r\n\t\t\tstate.moves += 1;\r\n\t\t},\r\n\t\tsetEnteredNumber: (state, action) => {\r\n\t\t\tstate.enteredNumber = +action.payload;\r\n\t\t},\r\n\t\tsetGameData: (state, action) => {\r\n\t\t\tstate.gameData = action.payload;\r\n\t\t},\r\n\t\tsetIncorrectNumbers: (state, action) => {\r\n\t\t\tstate.incorrectNumbers = action.payload;\r\n\t\t},\r\n\t\tsetCurrentNumber: (state, action) => {\r\n\t\t\tstate.currentNumber = action.payload;\r\n\t\t},\r\n\t\taddToHistory: (state, action) => {\r\n\t\t\tstate.history.push(action.payload);\r\n\t\t},\r\n\t\tclearHistory: state => {\r\n\t\t\tstate.history = [];\r\n\t\t},\r\n\t\tsetHints: (state, action) => {\r\n\t\t\tstate.hints = action.payload;\r\n\t\t},\r\n\t\tclearHints: state => {\r\n\t\t\tstate.hints = [];\r\n\t\t},\r\n\t\tannulateState: state => {\r\n\t\t\tstate.moves = 0;\r\n\t\t\tstate.currentNumber = 0;\r\n\t\t\tstate.enteredNumber = 0;\r\n\t\t\tstate.gameData = {\r\n\t\t\t\tcows: 0,\r\n\t\t\t\tbulls: 0\r\n\t\t\t};\r\n\t\t\tstate.hints = [];\r\n\t\t\tstate.history = [];\r\n\t\t\tstate.incorrectNumbers = [];\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const {\r\n\tincrementMoves,\r\n\taddToHistory,\r\n\tclearHints,\r\n\tclearHistory,\r\n\tsetGameData,\r\n\tsetHints,\r\n\tsetIncorrectNumbers,\r\n\tsetEnteredNumber,\r\n\tannulateState,\r\n\tsetCurrentNumber\r\n} = gameSlice.actions;\r\n\r\nexport default gameSlice.reducer;","import RestartGame from \"./RestartGame\";\r\n\r\nexport default RestartGame; ","import React, { useContext } from \"react\";\r\nimport { generateNumber, warningTypes } from \"utils\";\r\nimport {\r\n  annulateState,\r\n  setCurrentNumber,\r\n  setIncorrectNumbers,\r\n} from \"store/game/gameSlice\";\r\n\r\nimport { WarningContext } from \"context\";\r\n\r\nimport { useAppDispatch } from \"store/hooks\";\r\n\r\nimport styles from './RestartGame.module.scss';\r\n\r\nconst RestartGame = () => {\r\n  const warning = useContext(WarningContext);\r\n  const dispatch = useAppDispatch();\r\n  const handleClick = () => {\r\n    dispatch(annulateState());\r\n    const { number, incorrectNumbers } = generateNumber();\r\n    dispatch(setCurrentNumber(number));\r\n    dispatch(setIncorrectNumbers(incorrectNumbers));\r\n    warning.show(\"New game started\", warningTypes.success);\r\n  };\r\n  return (\r\n    <button\r\n      className={styles.restart}\r\n      onClick={handleClick}\r\n    >\r\n      Restart game\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default RestartGame;\r\n","import Input from \"./Input\";\r\n\r\nexport default Input;","import React, { FC, useState, useContext} from \"react\";\r\nimport { WarningContext } from \"context\";\r\nimport {\r\n  compareNumbers,\r\n  StartNewGame,\r\n  getCowsBulls,\r\n  warningTypes,\r\n} from \"utils\";\r\n// import { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  incrementMoves,\r\n  setEnteredNumber,\r\n  setGameData,\r\n  addToHistory,\r\n} from \"store/game/gameSlice\";\r\n\r\nimport RestartGame from 'components/RestartGame';\r\n\r\nimport { historyItemType } from \"types\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"store/hooks\";\r\n\r\nimport styles from './Input.module.scss';\r\n\r\nconst Input: FC<{}> = () => {\r\n  const [value, setValue] = useState(\"\");\r\n  const warning = useContext(WarningContext);\r\n  const { currentNumber, enteredNumber } = useAppSelector(\r\n    (state) => state.game\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(event.target.value);\r\n    dispatch(setEnteredNumber(event.target.value));\r\n  };\r\n\r\n  const handleSubmit = async (event: React.SyntheticEvent<HTMLFormElement>) => {\r\n    if (value === \"\") return;\r\n    event.preventDefault();\r\n    warning.hide();\r\n    dispatch(setEnteredNumber(event.currentTarget.nodeValue));\r\n    setValue(\"\");\r\n\r\n    const criterions = compareNumbers(enteredNumber);\r\n    console.log(criterions);\r\n\r\n    if (criterions[0] && criterions[1]) {\r\n      dispatch(incrementMoves());\r\n      if (enteredNumber === currentNumber) {\r\n        Promise.resolve()\r\n          .then(() => warning.show(\"WOU WIN!!!\", warningTypes.success))\r\n          .then(() => {\r\n            setTimeout(() => StartNewGame(), 2000);\r\n          });\r\n      } else {\r\n        const gameData = getCowsBulls(currentNumber, enteredNumber);\r\n\r\n        const currHistoryItem: historyItemType = {\r\n          number: enteredNumber,\r\n          data: gameData,\r\n        };\r\n        await dispatch(setGameData(gameData));\r\n        await dispatch(addToHistory(currHistoryItem));\r\n      }\r\n    } else {\r\n      let warnings = \"\";\r\n      if (!criterions[0]) warnings += \"non 4-digit number \";\r\n      if (!criterions[0] && !criterions[1]) warnings += \"and \";\r\n      if (!criterions[1]) warnings += \"number has repeated digits\";\r\n      warning.show(warnings, warningTypes.warning);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className={styles.container}>\r\n      <form\r\n        className={styles.form}\r\n        action=\"#\"\r\n        onSubmit={(event) => handleSubmit(event)}\r\n      >\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          onChange={(event) => handleChange(event)}\r\n          value={value}\r\n          placeholder={\"####\"}\r\n          maxLength={4}\r\n        />\r\n        <button\r\n          className={styles.submit}\r\n          type=\"submit\"\r\n        >\r\n          Check number\r\n        </button>\r\n        <RestartGame/>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import Moves from \"./Moves\";\r\n\r\nexport default Moves;","import React, {FC} from 'react';\r\nimport { IMovesProps } from 'types';\r\nimport styles from './Moves.module.scss';\r\n\r\n\r\nconst Moves: FC<IMovesProps> = (props: IMovesProps) => {\r\n\tconst {moves} = props;\r\n\treturn (\r\n\t\t<div className={styles.moves}>\r\n\t\t\t<h3 className={styles.movesTitle}>Your moves: <span className={styles.movesText}>{moves}</span></h3>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Moves;","import CowBulls from \"./CowBulls\";\r\n\r\nexport default CowBulls;","import React, {FC} from 'react';\r\nimport { ICowBullsProps } from 'types';\r\nimport styles from './CowBulls.module.scss';\r\n\r\nconst CowBulls: FC<ICowBullsProps> = (props: ICowBullsProps) => {\r\n\tconst {cows, bulls} = props;\r\n\r\n\treturn (\r\n\t\t<section className={styles.gameData}>\r\n\t\t\t<p>🐄: {cows}</p>\r\n\t\t\t<p>🐂: {bulls}</p>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default CowBulls;","import React, { FC } from 'react';\r\nimport { historyItemType } from 'types';\r\n\r\nimport styles from './History.module.scss';\r\n\r\nconst HistoryItem: FC<historyItemType> = (props: historyItemType) => {\r\n\tconst {number, data} = props;\r\n\treturn (\r\n\t\t<li key={`${number}-${data.cows}-${data.bulls}`}\r\n\t\t\t\tclassName={styles.item}>\r\n\t \t\t<strong className={styles.number}>{number}</strong>\r\n\t\t\t <div className={styles.data}>\r\n\t\t\t\t\t<p>🐄: {data.cows} &nbsp;</p>\r\n\t\t\t\t\t<p>🐂: {data.bulls}</p>\r\n\t\t\t </div>\r\n\t \t</li>\r\n\t)\r\n}\r\n\r\nexport default HistoryItem;","import History from \"./History\";\r\n\r\nexport default History;","import React from 'react'\r\nimport { historyItemType } from 'types';\r\nimport HistoryItem from './HistoryItem';\r\nimport { useAppSelector } from 'store/hooks';\r\nimport styles from './History.module.scss';\r\n\r\nconst History = () => {\r\n\tconst {\r\n\t\thistory\r\n\t} = useAppSelector(state => state.game); \r\n\r\n\tconst historyElements = history.map(({number, data}: historyItemType) => {\r\n\t\treturn <HistoryItem number={number} data={data}/>\r\n\t}).reverse();\r\n\t\r\n\t\r\n\treturn (\r\n\t\t<section className={styles.history}>\r\n\t\t\t<h2 className={styles.title}>History</h2>\r\n\t\t\t<ul className={styles.historyList}>\r\n\t\t\t\t{historyElements.length ? historyElements : \r\n\t\t\t\t<span>You have nor entered the number</span> }\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default History;","import Header from \"./Header\";\r\n\r\nexport default Header;","import React from 'react';\r\nimport styles from './Header.module.scss';\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<h1 className={styles.title}>\r\n\t\t\tCow-Bull Game\r\n\t\t</h1>\r\n\t)\r\n}\r\n\r\nexport default Header;\r\n","// === default\r\nimport React, { FC, useContext } from 'react';\r\nimport { WarningContext } from 'context';\r\nimport './Warning.styles.scss'\r\n\r\nconst WarningsContainer: FC<{}> = () => {\r\n\r\n\tconst {warning, hide} = useContext(WarningContext);\r\n\tconst {type, text} = warning;\r\n\tif (!warning.visible) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\tclassName={`alert alert-${type}`}\r\n\t\trole=\"alert\">\r\n\t\t\t<p><b>WARNING!!!</b></p>&nbsp;\r\n\t\t\t{text}\r\n\t\t\t<button \r\n\t\t\tonClick={hide} \r\n\t\t\tclassName=\"close\" \r\n\t\t\taria-label=\"Close\">\r\n\t\t\t\t<span \r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><title>Close</title><path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"/></svg>\r\n\t\t\t\t</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default WarningsContainer;\r\n","import React, { FC } from 'react';\r\nimport './Hint.styles.scss';\r\n\r\nimport { useAppSelector } from 'store/hooks';\r\n\r\nconst Hint = () => {\r\n\tconst {\r\n\t\tgame: {incorrectNumbers}\r\n\t} = useAppSelector(state => state);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"hint\">\r\n\t\t\t\t<p className=\"hint__title\">HINT:</p>\r\n\t\t\t\t<p className=\"hint__subtitle\">These digits are NOT in the number</p>\r\n\t\t\t\t<span className=\"hint__content\">{incorrectNumbers.join(\"  \")}</span>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport { Hint };\r\n","import React, { useEffect } from 'react';\r\nimport Input from 'components/Input';\r\nimport { generateNumber } from 'utils';\r\nimport Moves from 'components/Moves';\r\nimport CowBulls from 'components/CowBulls';\r\nimport History from 'components/History';\r\nimport Header from 'components/Header';\r\nimport WarningContainer from 'components/Warning/WarningsContainer';\r\nimport {\r\n  setCurrentNumber,\r\n  setIncorrectNumbers\r\n} from 'store/game/gameSlice';\r\nimport { useAppSelector ,useAppDispatch } from 'store/hooks';\r\nimport styles from './App.module.scss';\r\nimport { Hint } from 'components/Hint';\r\n\r\nconst App = () => {\r\n  const {\r\n    game: {\r\n      moves,\r\n      gameData: {\r\n        cows,\r\n        bulls\r\n      }\r\n    }\r\n  } = useAppSelector(state => state);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const {\r\n      number, \r\n      incorrectNumbers\r\n    } = generateNumber();\r\n\r\n    dispatch(setCurrentNumber(number));\r\n    dispatch(setIncorrectNumbers(incorrectNumbers))\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.container}>\r\n        <Header />\r\n        <WarningContainer />\r\n        <Moves moves={moves}/>\r\n        <Input />\r\n        {(moves > 0 && !(moves % 5)) && <Hint/>}\r\n        <CowBulls cows={cows} bulls={bulls} />\r\n        <History/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { SHOW_ALERT, HIDE_ALERT } from 'utils';\r\nimport {\r\n     ActionType, \r\n     handleType\r\n    } from \"types\";\r\n\r\nconst handlers: handleType = {\r\n    [SHOW_ALERT]: (state: any, { payload }: any) => ({ ...payload, visible: true }),\r\n    [HIDE_ALERT]: (state: any) => ({ ...state, visible: false }),\r\n    DEFAULT: (state: any) => state\r\n}\r\n\r\nconst warningReducer = (state: any, action: ActionType) => {\r\n    const handle = handlers[action.type] || handlers.DEFAULT;\r\n    return handle(state, action);\r\n}\r\n\r\nexport default warningReducer;","import WarningState from \"./state\";\r\n\r\nexport default WarningState;","import React, {FC, useReducer} from 'react';\r\nimport {WarningContext} from 'context';\r\nimport warningReducer from './reducer';\r\nimport {SHOW_ALERT, HIDE_ALERT} from 'utils';\r\nimport {dispatchType, IWarningStateProps} from 'types';\r\n\r\nconst WarningState: FC<IWarningStateProps> = (props: IWarningStateProps) => {\r\n\tconst [state, dispatch] = useReducer(warningReducer, {visible: false});\r\n\t\r\n\tconst show = (text: string, type = 'warning', payload?: dispatchType): void => {\r\n\t\tdispatch({\r\n\t\t\ttype: SHOW_ALERT,\r\n\t\t\tpayload: {text, type},\r\n\t\t});\r\n\t};\r\n\t\r\n\tconst hide = (): void => dispatch({type: HIDE_ALERT});\r\n\t\r\n\treturn (\r\n\t\t//^ soon will be refactored for complex Warning provider to show warnings\r\n\t\t<WarningContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tshow,\r\n\t\t\t\thide,\r\n\t\t\t\twarning: state,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</WarningContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default WarningState;","import { configureStore } from '@reduxjs/toolkit';\r\nimport gameReducer from 'store/game/gameSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    game: gameReducer,\r\n  },\r\n  middleware: []\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport WarningState from 'store/warning';\r\nimport { Provider } from 'react-redux';\r\nimport {store} from \"store/store\";\r\nimport './index.scss';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <WarningState>\r\n    <App />\r\n  </WarningState>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}